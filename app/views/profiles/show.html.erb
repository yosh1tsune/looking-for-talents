<h1>Perfil pessoal</h1>

<% if @profile.errors.any? %>
  <p>Você deve corrigir os seguintes erros: </p>
  <ul>
  <% @profile.errors.full_messages.each do |message| %>
      <li><%= message %></li>
  <% end %>
  </ul><br><br>
<% end %>

<% if candidate_signed_in? %>
<h3><%= link_to 'Editar perfil', edit_profile_path(@profile) %>
<% end %>

<h2><%= @profile.name %></h2>

<dl>
    <dt><%= I18n.t('birth_date') %>:</dt>
    <dd><%= I18n.l(@profile.birth_date) %></dd>
    <dt><%= I18n.t('document') %>:</dt>
    <dd><%= @profile.document %></dd>
    <dt><%= I18n.t('professional_resume') %>:</dt>
    <dd><%= @profile.professional_resume %></dd>
    <dt><%= I18n.t('scholarity') %>:</dt>
    <dd><%= @profile.scholarity %></dd>
    <dt><%= I18n.t('address') %>:</dt>
    <dd><%= @profile.address %></dd>
</dl>

<h3>Comentários<h3>

<% if headhunter_signed_in? %>
    <%= form_with model: @comment, url: comment_profile_path, method: :post do |form| %>
            <%= hidden_field_tag(:profile_id, @profile.id) %>
        <%= form.label :comment, I18n.t('comment') %>
        <%= form.text_field :comment %>
        <%= form.submit 'Comentar' %>
    <% end %>
<% end %>

<% if @comments.blank? %>
    <h1>Sem comentários nesse perfil</h1>
<% elsif %>
    <% @comments.each do |c| %>
        <dl>
            <dt>Autor:</dt>
            <dd><%= c.headhunter.email %></dd>
            <dt>Comentário:</dt>
            <dd><%= c.comment %></dd>
        <dl
    <% end %>>
<% end %>